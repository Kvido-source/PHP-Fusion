/*! Scroller 2.0.1
 * Â©2011-2019 SpryMedia Ltd - datatables.net/license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(b){return a(b,window,document)})}else{if(typeof exports==="object"){module.exports=function(b,c){if(!b){b=window}if(!c||!c.fn.dataTable){c=require("datatables.net")(b,c).$}return a(c,b,b.document)}}else{a(jQuery,window,document)}}}(function(f,d,a,g){var e=f.fn.dataTable;var c=function(j,i){if(!(this instanceof c)){alert("Scroller warning: Scroller must be initialised with the 'new' keyword.");return}if(i===g){i={}}var h=f.fn.dataTable.Api(j);this.s={dt:h.settings()[0],dtApi:h,tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:true,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null,labelFactor:1},topRowFloat:0,scrollDrawDiff:null,loaderVisible:false,forceReposition:false,baseRowTop:0,baseScrollTop:0,mousedown:false,lastScrollTop:0};this.s=f.extend(this.s,c.oDefaults,i);this.s.heights.row=this.s.rowHeight;this.dom={force:a.createElement("div"),label:f('<div class="dts_label">0</div>'),scroller:null,table:null,loader:null};if(this.s.dt.oScroller){return}this.s.dt.oScroller=this;this.construct()};f.extend(c.prototype,{measure:function(j){if(this.s.autoHeight){this._calcRowHeight()}var i=this.s.heights;if(i.row){i.viewport=f.contains(a,this.dom.scroller)?this.dom.scroller.clientHeight:this._parseHeight(f(this.dom.scroller).css("height"));if(!i.viewport){i.viewport=this._parseHeight(f(this.dom.scroller).css("max-height"))}this.s.viewportRows=parseInt(i.viewport/i.row,10)+1;this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer}var h=this.dom.label.outerHeight();i.labelFactor=(i.viewport-h)/i.scroll;if(j===g||j){this.s.dt.oInstance.fnDraw(false)}},pageInfo:function(){var j=this.s.dt,i=this.dom.scroller.scrollTop,k=j.fnRecordsDisplay(),h=Math.ceil(this.pixelsToRow(i+this.s.heights.viewport,false,this.s.ani));return{start:Math.floor(this.pixelsToRow(i,false,this.s.ani)),end:k<h?k-1:h-1}},pixelsToRow:function(l,j,i){var h=l-this.s.baseScrollTop;var k=i?(this._domain("physicalToVirtual",this.s.baseScrollTop)+h)/this.s.heights.row:(h/this.s.heights.row)+this.s.baseRowTop;return j||j===g?parseInt(k,10):k},rowToPixels:function(h,k,j){var l;var i=h-this.s.baseRowTop;if(j){l=this._domain("virtualToPhysical",this.s.baseScrollTop);l+=i*this.s.heights.row}else{l=this.s.baseScrollTop;l+=i*this.s.heights.row}return k||k===g?parseInt(l,10):l},scrollToRow:function(n,j){var m=this;var i=false;var l=this.rowToPixels(n);var h=((this.s.displayBuffer-1)/2)*this.s.viewportRows;var k=n-h;if(k<0){k=0}if((l>this.s.redrawBottom||l<this.s.redrawTop)&&this.s.dt._iDisplayStart!==k){i=true;l=this._domain("virtualToPhysical",n*this.s.heights.row);if(this.s.redrawTop<l&&l<this.s.redrawBottom){this.s.forceReposition=true;j=false}}if(j===g||j){this.s.ani=i;f(this.dom.scroller).animate({scrollTop:l},function(){setTimeout(function(){m.s.ani=false},250)})}else{f(this.dom.scroller).scrollTop(l)}},construct:function(){var i=this;var h=this.s.dtApi;if(!this.s.dt.oFeatures.bPaginate){this.s.dt.oApi._fnLog(this.s.dt,0,"Pagination must be enabled for Scroller");return}this.dom.force.style.position="relative";this.dom.force.style.top="0px";this.dom.force.style.left="0px";this.dom.force.style.width="1px";this.dom.scroller=f("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0];this.dom.scroller.appendChild(this.dom.force);this.dom.scroller.style.position="relative";this.dom.table=f(">table",this.dom.scroller)[0];this.dom.table.style.position="absolute";this.dom.table.style.top="0px";this.dom.table.style.left="0px";f(h.table().container()).addClass("dts DTS");if(this.s.loadingIndicator){this.dom.loader=f('<div class="dataTables_processing dts_loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>").css("display","none");f(this.dom.scroller.parentNode).css("position","relative").append(this.dom.loader)}this.dom.label.appendTo(this.dom.scroller);if(this.s.heights.row&&this.s.heights.row!="auto"){this.s.autoHeight=false}this.measure(false);this.s.ingnoreScroll=true;this.s.stateSaveThrottle=this.s.dt.oApi._fnThrottle(function(){i.s.dtApi.state.save()},500);f(this.dom.scroller).on("scroll.dt-scroller",function(l){i._scroll.call(i)});f(this.dom.scroller).on("touchstart.dt-scroller",function(){i._scroll.call(i)});f(this.dom.scroller).on("mousedown.dt-scroller",function(){i.s.mousedown=true}).on("mouseup.dt-scroller",function(){i.s.mouseup=false;i.dom.label.css("display","none")});f(d).on("resize.dt-scroller",function(){i.measure(false);i._info()});var k=true;var j=h.state.loaded();h.on("stateSaveParams.scroller",function(n,l,m){m.scroller={topRow:k&&j&&j.scroller?j.scroller.topRow:i.s.topRowFloat,baseScrollTop:i.s.baseScrollTop,baseRowTop:i.s.baseRowTop};k=false});if(j&&j.scroller){this.s.topRowFloat=j.scroller.topRow;this.s.baseScrollTop=j.scroller.baseScrollTop;this.s.baseRowTop=j.scroller.baseRowTop}h.on("init.scroller",function(){i.measure(false);i.s.scrollType="jump";i._draw();h.on("draw.scroller",function(){i._draw()})});h.on("preDraw.dt.scroller",function(){i._scrollForce()});h.on("destroy.scroller",function(){f(d).off("resize.dt-scroller");f(i.dom.scroller).off(".dt-scroller");f(i.s.dt.nTable).off(".scroller");f(i.s.dt.nTableWrapper).removeClass("DTS");f("div.DTS_Loading",i.dom.scroller.parentNode).remove();i.dom.table.style.position="";i.dom.table.style.top="";i.dom.table.style.left=""})},_calcRowHeight:function(){var m=this.s.dt;var h=m.nTable;var k=h.cloneNode(false);var j=f("<tbody/>").appendTo(k);var i=f('<div class="'+m.oClasses.sWrapper+' DTS"><div class="'+m.oClasses.sScrollWrapper+'"><div class="'+m.oClasses.sScrollBody+'"></div></div></div>');f("tbody tr:lt(4)",h).clone().appendTo(j);var l=f("tr",j).length;if(l===1){j.prepend("<tr><td>&#160;</td></tr>");j.append("<tr><td>&#160;</td></tr>")}else{for(;l<3;l++){j.append("<tr><td>&#160;</td></tr>")}}f("div."+m.oClasses.sScrollBody,i).append(k);var n=this.s.dt.nHolding||h.parentNode;if(!f(n).is(":visible")){n="body"}i.appendTo(n);this.s.heights.row=f("tr",j).eq(1).outerHeight();i.remove()},_draw:function(){var k=this,l=this.s.heights,j=this.dom.scroller.scrollTop,o=f(this.s.dt.nTable).height(),q=this.s.dt._iDisplayStart,i=this.s.dt._iDisplayLength,h=this.s.dt.fnRecordsDisplay();this.s.skip=true;if((this.s.dt.bSorted||this.s.dt.bFiltered)&&q===0&&!this.s.dt._drawHold){this.s.topRowFloat=0}j=this.s.scrollType==="jump"?this._domain("virtualToPhysical",this.s.topRowFloat*l.row):j;this.s.baseScrollTop=j;this.s.baseRowTop=this.s.topRowFloat;var p=j-((this.s.topRowFloat-q)*l.row);if(q===0){p=0}else{if(q+i>=h){p=l.scroll-o}}this.dom.table.style.top=p+"px";this.s.tableTop=p;this.s.tableBottom=o+this.s.tableTop;var n=(j-this.s.tableTop)*this.s.boundaryScale;this.s.redrawTop=j-n;this.s.redrawBottom=j+n>l.scroll-l.viewport-l.row?l.scroll-l.viewport-l.row:j+n;this.s.skip=false;if(this.s.dt.oFeatures.bStateSave&&this.s.dt.oLoadedState!==null&&typeof this.s.dt.oLoadedState.iScroller!="undefined"){var m=(this.s.dt.sAjaxSource||k.s.dt.ajax)&&!this.s.dt.oFeatures.bServerSide?true:false;if((m&&this.s.dt.iDraw==2)||(!m&&this.s.dt.iDraw==1)){setTimeout(function(){f(k.dom.scroller).scrollTop(k.s.dt.oLoadedState.iScroller);k.s.redrawTop=k.s.dt.oLoadedState.iScroller-(l.viewport/2);setTimeout(function(){k.s.ingnoreScroll=false},0)},0)}}else{k.s.ingnoreScroll=false}if(this.s.dt.oFeatures.bInfo){setTimeout(function(){k._info.call(k)},0)}if(this.dom.loader&&this.s.loaderVisible){this.dom.loader.css("display","none");this.s.loaderVisible=false}},_domain:function(i,n){var k=this.s.heights;var l;var j=10000;if(k.virtual===k.scroll){return n}if(n<j){return n}else{if(i==="virtualToPhysical"&&n>=k.virtual-j){l=k.virtual-n;return k.scroll-l}else{if(i==="physicalToVirtual"&&n>=k.scroll-j){l=k.scroll-n;return k.virtual-l}}}var h=(k.virtual-j-j)/(k.scroll-j-j);var o=j-(h*j);return i==="virtualToPhysical"?(n-o)/h:(h*n)+o},_info:function(){if(!this.s.dt.oFeatures.bInfo){return}var k=this.s.dt,u=k.oLanguage,p=this.dom.scroller.scrollTop,h=Math.floor(this.pixelsToRow(p,false,this.s.ani)+1),q=k.fnRecordsTotal(),v=k.fnRecordsDisplay(),r=Math.ceil(this.pixelsToRow(p+this.s.heights.viewport,false,this.s.ani)),z=v<r?v:r,j=k.fnFormatNumber(h),o=k.fnFormatNumber(z),x=k.fnFormatNumber(q),w=k.fnFormatNumber(v),t;if(k.fnRecordsDisplay()===0&&k.fnRecordsDisplay()==k.fnRecordsTotal()){t=u.sInfoEmpty+u.sInfoPostFix}else{if(k.fnRecordsDisplay()===0){t=u.sInfoEmpty+" "+u.sInfoFiltered.replace("_MAX_",x)+u.sInfoPostFix}else{if(k.fnRecordsDisplay()==k.fnRecordsTotal()){t=u.sInfo.replace("_START_",j).replace("_END_",o).replace("_MAX_",x).replace("_TOTAL_",w)+u.sInfoPostFix}else{t=u.sInfo.replace("_START_",j).replace("_END_",o).replace("_MAX_",x).replace("_TOTAL_",w)+" "+u.sInfoFiltered.replace("_MAX_",k.fnFormatNumber(k.fnRecordsTotal()))+u.sInfoPostFix}}}var y=u.fnInfoCallback;if(y){t=y.call(k.oInstance,k,h,z,q,v,t)}var m=k.aanFeatures.i;if(typeof m!="undefined"){for(var s=0,l=m.length;s<l;s++){f(m[s]).html(t)}}f(k.nTable).triggerHandler("info.dt")},_parseHeight:function(i){var h;var l=/^([+-]?(?:\d+(?:\.\d+)?|\.\d+))(px|em|rem|vh)$/.exec(i);if(l===null){return 0}var k=parseFloat(l[1]);var j=l[2];if(j==="px"){h=k}else{if(j==="vh"){h=(k/100)*f(d).height()}else{if(j==="rem"){h=k*parseFloat(f(":root").css("font-size"))}else{if(j==="em"){h=k*parseFloat(f("body").css("font-size"))}}}}return h?h:0},_scroll:function(){var k=this,l=this.s.heights,j=this.dom.scroller.scrollTop,m;if(this.s.skip){return}if(this.s.ingnoreScroll){return}if(j===this.s.lastScrollTop){return}if(this.s.dt.bFiltered||this.s.dt.bSorted){this.s.lastScrollTop=0;return}this._info();clearTimeout(this.s.stateTO);this.s.stateTO=setTimeout(function(){k.s.dtApi.state.save()},250);this.s.scrollType=Math.abs(j-this.s.lastScrollTop)>l.viewport?"jump":"cont";this.s.topRowFloat=this.s.scrollType==="cont"?this.pixelsToRow(j,false,false):this._domain("physicalToVirtual",j)/l.row;if(this.s.topRowFloat<0){this.s.topRowFloat=0}if(this.s.forceReposition||j<this.s.redrawTop||j>this.s.redrawBottom){var i=Math.ceil(((this.s.displayBuffer-1)/2)*this.s.viewportRows);m=parseInt(this.s.topRowFloat,10)-i;this.s.forceReposition=false;if(m<=0){m=0}else{if(m+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()){m=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength;if(m<0){m=0}}else{if(m%2!==0){m++}}}if(m!=this.s.dt._iDisplayStart){this.s.tableTop=f(this.s.dt.nTable).offset().top;this.s.tableBottom=f(this.s.dt.nTable).height()+this.s.tableTop;var h=function(){if(k.s.scrollDrawReq===null){k.s.scrollDrawReq=j}k.s.dt._iDisplayStart=m;k.s.dt.oApi._fnDraw(k.s.dt)};if(this.s.dt.oFeatures.bServerSide){clearTimeout(this.s.drawTO);this.s.drawTO=setTimeout(h,this.s.serverWait)}else{h()}if(this.dom.loader&&!this.s.loaderVisible){this.dom.loader.css("display","block");this.s.loaderVisible=true}}}else{this.s.topRowFloat=this.pixelsToRow(j,false,true)}this.s.lastScrollTop=j;this.s.stateSaveThrottle();if(this.s.scrollType==="jump"&&this.s.mousedown){this.dom.label.html(this.s.dt.fnFormatNumber(parseInt(this.s.topRowFloat,10)+1)).css("top",j+(j*l.labelFactor)).css("display","block")}},_scrollForce:function(){var i=this.s.heights;var h=1000000;i.virtual=i.row*this.s.dt.fnRecordsDisplay();i.scroll=i.virtual;if(i.scroll>h){i.scroll=h}this.dom.force.style.height=i.scroll>this.s.heights.row?i.scroll+"px":this.s.heights.row+"px"}});c.defaults={boundaryScale:0.5,displayBuffer:9,loadingIndicator:false,rowHeight:"auto",serverWait:200};c.oDefaults=c.defaults;c.version="2.0.1";f(a).on("preInit.dt.dtscroller",function(k,h){if(k.namespace!=="dt"){return}var l=h.oInit.scroller;var j=e.defaults.scroller;if(l||j){var i=f.extend({},l,j);if(l!==false){new c(h,i)}}});f.fn.dataTable.Scroller=c;f.fn.DataTable.Scroller=c;var b=f.fn.dataTable.Api;b.register("scroller()",function(){return this});b.register("scroller().rowToPixels()",function(i,k,j){var h=this.context;if(h.length&&h[0].oScroller){return h[0].oScroller.rowToPixels(i,k,j)}});b.register("scroller().pixelsToRow()",function(k,j,i){var h=this.context;if(h.length&&h[0].oScroller){return h[0].oScroller.pixelsToRow(k,j,i)}});b.register(["scroller().scrollToRow()","scroller.toPosition()"],function(h,i){this.iterator("table",function(j){if(j.oScroller){j.oScroller.scrollToRow(h,i)}});return this});b.register("row().scrollTo()",function(h){var i=this;this.iterator("row",function(j,k){if(j.oScroller){var l=i.rows({order:"applied",search:"applied"}).indexes().indexOf(k);j.oScroller.scrollToRow(l,h)}});return this});b.register("scroller.measure()",function(h){this.iterator("table",function(i){if(i.oScroller){i.oScroller.measure(h)}});return this});b.register("scroller.page()",function(){var h=this.context;if(h.length&&h[0].oScroller){return h[0].oScroller.pageInfo()}});return c}));