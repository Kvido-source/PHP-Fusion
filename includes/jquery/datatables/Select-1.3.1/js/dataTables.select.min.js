/*! Select for DataTables 1.3.1
 * 2015-2019 SpryMedia Ltd - datatables.net/license/mit
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(b){return a(b,window,document)})}else{if(typeof exports==="object"){module.exports=function(b,c){if(!b){b=window}if(!c||!c.fn.dataTable){c=require("datatables.net")(b,c).$}return a(c,b,b.document)}}else{a(jQuery,window,document)}}}(function(f,i,n,h){var m=f.fn.dataTable;m.select={};m.select.version="1.3.1";m.select.init=function(x){var H=x.settings()[0];var F=H.oInit.select;var A=m.defaults.select;var v=F===h?A:F;var E="row";var w="api";var G=false;var B=true;var y=true;var z="td, th";var D="selected";var C=false;H._select={};if(v===true){w="os";C=true}else{if(typeof v==="string"){w=v;C=true}else{if(f.isPlainObject(v)){if(v.blurable!==h){G=v.blurable}if(v.toggleable!==h){B=v.toggleable}if(v.info!==h){y=v.info}if(v.items!==h){E=v.items}if(v.style!==h){w=v.style;C=true}else{w="os";C=true}if(v.selector!==h){z=v.selector}if(v.className!==h){D=v.className}}}}x.select.selector(z);x.select.items(E);x.select.style(w);x.select.blurable(G);x.select.toggleable(B);x.select.info(y);H._select.className=D;f.fn.dataTable.ext.order["select-checkbox"]=function(J,I){return this.api().column(I,{order:"index"}).nodes().map(function(K){if(J._select.items==="row"){return f(K).parent().hasClass(J._select.className)}else{if(J._select.items==="cell"){return f(K).hasClass(J._select.className)}}return false})};if(!C&&f(x.table().node()).hasClass("selectable")){x.select.style("os")}};function o(B,v,A){var y;var w;var C;var x=function(G,E){if(G>E){var F=E;E=G;G=F}var D=false;return B.columns(":visible").indexes().filter(function(H){if(H===G){D=true}if(H===E){D=false;return true}return D})};var z=function(H,E){var F=B.rows({search:"applied"}).indexes();if(F.indexOf(H)>F.indexOf(E)){var G=E;E=H;H=G}var D=false;return F.filter(function(I){if(I===H){D=true}if(I===E){D=false;return true}return D})};if(!B.cells({selected:true}).any()&&!A){w=x(0,v.column);C=z(0,v.row)}else{w=x(A.column,v.column);C=z(A.row,v.row)}y=B.cells(C,w).flatten();if(!B.cells(v,{selected:true}).any()){B.cells(y).select()}else{B.cells(y).deselect()}}function k(x){var w=x.settings()[0];var v=w._select.selector;f(x.table().container()).off("mousedown.dtSelect",v).off("mouseup.dtSelect",v).off("click.dtSelect",v);f("body").off("click.dtSelect"+d(x.table().node()))}function r(z){var y=f(z.table().container());var x=z.settings()[0];var v=x._select.selector;var w;y.on("mousedown.dtSelect",v,function(A){if(A.shiftKey||A.metaKey||A.ctrlKey){y.css("-moz-user-select","none").one("selectstart.dtSelect",v,function(){return false})}if(i.getSelection){w=i.getSelection()}}).on("mouseup.dtSelect",v,function(){y.css("-moz-user-select","")}).on("click.dtSelect",v,function(C){var D=z.select.items();var G;if(w){var F=i.getSelection();if(!F.anchorNode||f(F.anchorNode).closest("table")[0]===z.table().node()){if(F!==w){return}}}var I=z.settings()[0];var B=f.trim(z.settings()[0].oClasses.sWrapper).replace(/ +/g,".");if(f(C.target).closest("div."+B)[0]!=z.table().container()){return}var H=z.cell(f(C.target).closest("td, th"));if(!H.any()){return}var A=f.Event("user-select.dt");g(z,A,[D,H,C]);if(A.isDefaultPrevented()){return}var E=H.index();if(D==="row"){G=E.row;c(C,z,I,"row",G)}else{if(D==="column"){G=H.index().column;c(C,z,I,"column",G)}else{if(D==="cell"){G=H.index();c(C,z,I,"cell",G)}}}I._select_lastCell=E});f("body").on("click.dtSelect"+d(z.table().node()),function(A){if(x._select.blurable){if(f(A.target).parents().filter(z.table().container()).length){return}if(f(A.target).parents("html").length===0){return}if(f(A.target).parents("div.DTE").length){return}p(x,true)}})}function g(x,w,v,y){if(y&&!x.flatten().length){return}if(typeof w==="string"){w=w+".dt"}v.unshift(x);f(x.table().node()).trigger(w,v)}function t(y){var v=y.settings()[0];if(!v._select.info||!v.aanFeatures.i){return}if(y.select.style()==="api"){return}var z=y.rows({selected:true}).flatten().length;var x=y.columns({selected:true}).flatten().length;var w=y.cells({selected:true}).flatten().length;var A=function(D,C,B){D.append(f('<span class="select-item"/>').append(y.i18n("select."+C+"s",{_:"%d "+C+"s selected",0:"",1:"1 "+C+" selected"},B)))};f.each(v.aanFeatures.i,function(D,E){E=f(E);var B=f('<span class="select-info"/>');A(B,"row",z);A(B,"column",x);A(B,"cell",w);var C=E.children("span.select-info");if(C.length){C.remove()}if(B.text()!==""){E.append(B)}})}function q(v){var w=new m.Api(v);v.aoRowCreatedCallback.push({fn:function(C,A,y){var z,x;var B=v.aoData[y];if(B._select_selected){f(C).addClass(v._select.className)}for(z=0,x=v.aoColumns.length;z<x;z++){if(v.aoColumns[z]._select_selected||(B._selected_cells&&B._selected_cells[z])){f(B.anCells[z]).addClass(v._select.className)}}},sName:"select-deferRender"});w.on("preXhr.dt.dtSelect",function(){var y=w.rows({selected:true}).ids(true).filter(function(z){return z!==h});var x=w.cells({selected:true}).eq(0).map(function(z){var A=w.row(z.row).id(true);return A?{row:A,column:z.column}:h}).filter(function(z){return z!==h});w.one("draw.dt.dtSelect",function(){w.rows(y).select();if(x.any()){x.each(function(z){w.cells(z.row,z.column).select()})}})});w.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){t(w)});w.on("destroy.dtSelect",function(){k(w);w.off(".dtSelect")})}function b(C,A,v,B){var y=C[A+"s"]({search:"applied"}).indexes();var x=f.inArray(B,y);var w=f.inArray(v,y);if(!C[A+"s"]({selected:true}).any()&&x===-1){y.splice(f.inArray(v,y)+1,y.length)}else{if(x>w){var z=w;w=x;x=z}y.splice(w+1,y.length);y.splice(0,x)}if(!C[A](v,{selected:true}).any()){C[A+"s"](y).select()}else{y.splice(f.inArray(v,y),1);C[A+"s"](y).deselect()}}function p(v,x){if(x||v._select.style==="single"){var w=new m.Api(v);w.rows({selected:true}).deselect();w.columns({selected:true}).deselect();w.cells({selected:true}).deselect()}}function c(A,x,D,B,C){var v=x.select.style();var z=x.select.toggleable();var w=x[B](C,{selected:true}).any();if(w&&!z){return}if(v==="os"){if(A.ctrlKey||A.metaKey){x[B](C).select(!w)}else{if(A.shiftKey){if(B==="cell"){o(x,C,D._select_lastCell||null)}else{b(x,B,C,D._select_lastCell?D._select_lastCell[B]:null)}}else{var y=x[B+"s"]({selected:true});if(w&&y.flatten().length===1){x[B](C).deselect()}else{y.deselect();x[B](C).select()}}}}else{if(v=="multi+shift"){if(A.shiftKey){if(B==="cell"){o(x,C,D._select_lastCell||null)}else{b(x,B,C,D._select_lastCell?D._select_lastCell[B]:null)}}else{x[B](C).select(!w)}}else{x[B](C).select(!w)}}}function d(v){return v.id.replace(/[^a-zA-Z0-9\-\_]/g,"-")}f.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(v,w){m.ext.selector[w.type].push(function(C,D,z){var B=D.selected;var E;var y=[];if(B!==true&&B!==false){return z}for(var A=0,x=z.length;A<x;A++){E=C[w.prop][z[A]];if((B===true&&E._select_selected===true)||(B===false&&!E._select_selected)){y.push(z[A])}}return y})});m.ext.selector.cell.push(function(A,B,x){var z=B.selected;var C;var w=[];if(z===h){return x}for(var y=0,v=x.length;y<v;y++){C=A.aoData[x[y].row];if((z===true&&C._selected_cells&&C._selected_cells[x[y].column]===true)||(z===false&&(!C._selected_cells||!C._selected_cells[x[y].column]))){w.push(x[y])}}return w});var e=m.Api.register;var a=m.Api.registerPlural;e("select()",function(){return this.iterator("table",function(v){m.select.init(new m.Api(v))})});e("select.blurable()",function(v){if(v===h){return this.context[0]._select.blurable}return this.iterator("table",function(w){w._select.blurable=v})});e("select.toggleable()",function(v){if(v===h){return this.context[0]._select.toggleable}return this.iterator("table",function(w){w._select.toggleable=v})});e("select.info()",function(v){if(t===h){return this.context[0]._select.info}return this.iterator("table",function(w){w._select.info=v})});e("select.items()",function(v){if(v===h){return this.context[0]._select.items}return this.iterator("table",function(w){w._select.items=v;g(new m.Api(w),"selectItems",[v])})});e("select.style()",function(v){if(v===h){return this.context[0]._select.style}return this.iterator("table",function(w){w._select.style=v;if(!w._select_init){q(w)}var x=new m.Api(w);k(x);if(v!=="api"){r(x)}g(new m.Api(w),"selectStyle",[v])})});e("select.selector()",function(v){if(v===h){return this.context[0]._select.selector}return this.iterator("table",function(w){k(new m.Api(w));w._select.selector=v;if(w._select.style!=="api"){r(new m.Api(w))}})});a("rows().select()","row().select()",function(v){var w=this;if(v===false){return this.deselect()}this.iterator("row",function(y,x){p(y);y.aoData[x]._select_selected=true;f(y.aoData[x].nTr).addClass(y._select.className)});this.iterator("table",function(x,y){g(w,"select",["row",w[y]],true)});return this});a("columns().select()","column().select()",function(v){var w=this;if(v===false){return this.deselect()}this.iterator("column",function(y,x){p(y);y.aoColumns[x]._select_selected=true;var z=new m.Api(y).column(x);f(z.header()).addClass(y._select.className);f(z.footer()).addClass(y._select.className);z.nodes().to$().addClass(y._select.className)});this.iterator("table",function(x,y){g(w,"select",["column",w[y]],true)});return this});a("cells().select()","cell().select()",function(v){var w=this;if(v===false){return this.deselect()}this.iterator("cell",function(x,y,A){p(x);var z=x.aoData[y];if(z._selected_cells===h){z._selected_cells=[]}z._selected_cells[A]=true;if(z.anCells){f(z.anCells[A]).addClass(x._select.className)}});this.iterator("table",function(x,y){g(w,"select",["cell",w[y]],true)});return this});a("rows().deselect()","row().deselect()",function(){var v=this;this.iterator("row",function(x,w){x.aoData[w]._select_selected=false;f(x.aoData[w].nTr).removeClass(x._select.className)});this.iterator("table",function(w,x){g(v,"deselect",["row",v[x]],true)});return this});a("columns().deselect()","column().deselect()",function(){var v=this;this.iterator("column",function(x,w){x.aoColumns[w]._select_selected=false;var z=new m.Api(x);var y=z.column(w);f(y.header()).removeClass(x._select.className);f(y.footer()).removeClass(x._select.className);z.cells(null,w).indexes().each(function(B){var C=x.aoData[B.row];var A=C._selected_cells;if(C.anCells&&(!A||!A[B.column])){f(C.anCells[B.column]).removeClass(x._select.className)}})});this.iterator("table",function(w,x){g(v,"deselect",["column",v[x]],true)});return this});a("cells().deselect()","cell().deselect()",function(){var v=this;this.iterator("cell",function(w,x,z){var y=w.aoData[x];y._selected_cells[z]=false;if(y.anCells&&!w.aoColumns[z]._select_selected){f(y.anCells[z]).removeClass(w._select.className)}});this.iterator("table",function(w,x){g(v,"deselect",["cell",v[x]],true)});return this});function l(v,w){return function(x){return x.i18n("buttons."+v,w)}}function u(v){var w=v._eventNamespace;return"draw.dt.DT"+w+" select.dt.DT"+w+" deselect.dt.DT"+w}function j(w,v){if(f.inArray("rows",v.limitTo)!==-1&&w.rows({selected:true}).any()){return true}if(f.inArray("columns",v.limitTo)!==-1&&w.columns({selected:true}).any()){return true}if(f.inArray("cells",v.limitTo)!==-1&&w.cells({selected:true}).any()){return true}return false}var s=0;f.extend(m.ext.buttons,{selected:{text:l("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(y,x,v){var w=this;v._eventNamespace=".select"+(s++);y.on(u(v),function(){w.enable(j(y,v))});this.disable()},destroy:function(x,w,v){x.off(v._eventNamespace)}},selectedSingle:{text:l("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(y,x,v){var w=this;v._eventNamespace=".select"+(s++);y.on(u(v),function(){var z=y.rows({selected:true}).flatten().length+y.columns({selected:true}).flatten().length+y.cells({selected:true}).flatten().length;w.enable(z===1)});this.disable()},destroy:function(x,w,v){x.off(v._eventNamespace)}},selectAll:{text:l("selectAll","Select all"),className:"buttons-select-all",action:function(){var v=this.select.items();this[v+"s"]().select()}},selectNone:{text:l("selectNone","Deselect all"),className:"buttons-select-none",action:function(){p(this.settings()[0],true)},init:function(y,x,v){var w=this;v._eventNamespace=".select"+(s++);y.on(u(v),function(){var z=y.rows({selected:true}).flatten().length+y.columns({selected:true}).flatten().length+y.cells({selected:true}).flatten().length;w.enable(z>0)});this.disable()},destroy:function(x,w,v){x.off(v._eventNamespace)}}});f.each(["Row","Column","Cell"],function(v,x){var w=x.toLowerCase();m.ext.buttons["select"+x+"s"]={text:l("select"+x+"s","Select "+w+"s"),className:"buttons-select-"+w+"s",action:function(){this.select.items(w)},init:function(z){var y=this;z.on("selectItems.dt.DT",function(C,A,B){y.active(B===w)})}}});f(n).on("preInit.dt.dtSelect",function(w,v){if(w.namespace!=="dt"){return}m.select.init(new m.Api(v))});return m.select}));